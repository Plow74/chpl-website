<div id="chpl-report" ng-form="$ctrl.form">
  <div class="row">
    <div class="col-sm-12">
      <span class="pull-right" ng-if="!$ctrl.isEditing">
        <button class="btn" id="surveillance-report-download-{{ $ctrl.report.id }}" ng-click="$ctrl.generateReport()">
          <i class="fa fa-download"></i>
          Download Quarterly Surveillance Report
        </button>
      </span>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <div ng-form="$ctrl.form">
        <div class="form-group">
          <label class="control-label" for="surveillance-activities">Surveillance Activities and Outcomes</label>
          <textarea class="form-control" id="surveillance-activities" name="surveillanceActivities" ng-model="$ctrl.report.surveillanceActivitiesAndOutcomes"></textarea>
        </div>
        <div class="form-group">
          <label class="control-label" for="reactive">Reactive Summary</label>
          <textarea class="form-control" id="reactive" name="reactive" ng-model="$ctrl.report.reactiveSummary"></textarea>
        </div>
        <div class="form-group">
          <label class="control-label" for="prioritized-element">Prioritized Element Summary</label>
          <textarea class="form-control" id="prioritized-element" name="prioritizedElement" ng-model="$ctrl.report.prioritizedElementSummary"></textarea>
        </div>
        <div class="form-group">
          <label class="control-label" for="transparency-disclosure">Transparency Disclosure Summary</label>
          <textarea class="form-control" id="transparency-disclosure" name="transparencyDisclosure" ng-model="$ctrl.report.transparencyDisclosureSummary"></textarea>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">
            <div class="panel-title">
              Listings for {{ $ctrl.report.year }} - {{ $ctrl.report.quarter }}
              <a class="pull-right" ng-click="$ctrl.areListingsCollapsed = !$ctrl.areListingsCollapsed">
                <span class="fa" ng-class="$ctrl.areListingsCollapsed ? 'fa-caret-down' : 'fa-caret-up'"></span>
              </a>
            </div>
          </div>
          <div class="panel-body" uib-collapse="$ctrl.areListingsCollapsed">
            <chpl-surveillance-report-relevant-listings
              listings="$ctrl.report.relevantListings"
              on-save="$ctrl.saveRelevantListing(listing)">
            </chpl-surveillance-report-relevant-listings>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">
            <div class="panel-title">
              Complaints for {{ $ctrl.report.year }} - {{ $ctrl.report.quarter }}
              <a class="pull-right" ng-click="$ctrl.areComplaintsCollapsed = !$ctrl.areComplaintsCollapsed">
                <span class="fa" ng-class="$ctrl.areComplaintsCollapsed ? 'fa-caret-down' : 'fa-caret-up'"></span>
              </a>
            </div>
          </div>
          <div class="panel-body" uib-collapse="$ctrl.areComplaintsCollapsed">
            <chpl-surveillance-complaints
                complaint-list-type="RELEVANT"
                display-add="false"
                display-header="false">
            </chpl-surveillance-complaints>
          </div>
        </div>
        <div class="pull-right">
          <button class="btn" id="quarterly-surveillance-save" ng-click="$ctrl.save()">Save Quarterly Report </button>
          <button class="btn btn-link" id="quarterly-suveillance-cancel" ng-click="$ctrl.cancel()">Cancel</button>
        </div>
        <!--
          <button class="btn btn-danger btn-small" id="quarterly-suveillance-delete"
                confirm="Are you sure you wish to delete this Quarterly Surveillance Report?"
                confirm-ok="Yes"
                confirm-cancel="No"
                confirm-settings="{animation: false, keyboard: false, backdrop: 'static'}"
                ng-if="$ctrl.report.id"
                ng-click="$ctrl.delete()"><i class="fa fa-trash"></i><span class="sr-only"> Delete</span></button>
        -->
      </div>
    </div>
  </div>
</div>
    <!--
    <div class="col-sm-6">
      <div ng-repeat="listing in $ctrl.report.relevantListings | orderBy : 'chplProductNumber'">
        <chpl-surveillance-report-relevant-listing listing="listing" on-save="$ctrl.saveRelevantListing(listing)"></chpl-surveillance-report-relevant-listing>
      </div>
    </div>
  </div>
    -->
