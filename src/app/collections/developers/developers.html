<div class="container-fluid collection-page">
  <div class="pending" ng-if="vm.isPreLoading"></div>
  <div class="row">
    <div class="col-sm-12">
      <h1>Developers Under Certification Ban</h1>
    </div>
  </div>
  <div class="main-content" id="mainContent" tabindex="-1" st-table="vm.displayedDevelopers" st-safe-src="vm.allDevelopers" st-set-filter="customFilter" vm.totalItemCount="totalItemCount">
    <div class="row">
      <div class="col-sm-12">
        <p>
          This is a list of health IT developers currently precluded from certifying any health IT products under the ONC Health IT Certification Program - including new products as well as upgraded versions of current products. ONC may lift these statuses if it determines that the developer has taken appropriate steps to remedy problems or issues for all affected products and users and prevent their recurrence. A developer may be precluded from certifying products for two reasons:
          <ol>
            <li><strong>Developer Ban</strong> A developer may be precluded from the Program if the developer or one of its products fails to comply with any requirements of certification and the developer fails to take appropriate actions to correct the non-compliance.</li>
            <li><strong>Product Withdrawn While Under Surveillance</strong> A developer may also be precluded if it fails to cooperate with the surveillance or other oversight of its certified products. ONC may lift the ban if it determines that the developer has taken appropriate steps to remedy problems or issues for all affected products and users and prevent their recurrence.</li>
          </ol>
        </p>
        <p>
          Health IT products currently listed on the CHPL will maintain their listed certification status regardless of whether their developer is precluded from the program. Please consult your health IT productâ€™s details page to confirm its certification status by <a href="https://chpl.healthit.gov/#/search">searching for the product</a>
        </p>
      </div>
    </div>
    <st-manage register-search="vm.registerSearch(search)" name-space="bannedDevelopersTableState" />
    <div class="form-horizontal" ng-form="vm.searchForm" aria-live="polite">
      <div class="form-group" id="filters">
        <div class="col-sm-4">
          <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-search"></i></div>
            <input type="text" class="form-control input-sm" id="generalFilter" placeholder="search for a Developer"
                   ai-enhanced-text predicate="developer" register-clear-filter="vm.registerClearFilter(clearFilter)" register-restore-state="vm.registerRestoreState(restoreState)" name-space="bannedDevelopersTableState">
            <label for="generalFilter"><span class="sr-only">Search for a Developer</span></label>
          </div>
        </div>
        <div class="col-sm-8">
          <div uib-dropdown auto-close="outsideClick" class="btn-group dropdown-filter">
            <button class="btn btn-sm btn-ai dropdown-toggle" type="button" id="filter-button" uib-dropdown-toggle aria-haspopup="true" aria-expanded="true">
              <a ng-if="vm.isCategoryChanged(['acb', 'edition', 'decertificationDate'])" href uib-tooltip="Filter has non-default option selected" tooltip-trigger="mouseenter focus click"><span class="sr-only">Filter has non-default option selected</span>*</a>
              Filter <i class="fa fa-filter"></i>
            </button>
            <div class="dropdown-menu row" aria-labeledby="filter-button" uib-dropdown-menu>
              <div class="col-sm-12">
                <strong>ONC-ACB</strong>
                <st-list-multiple collection="vm.allDevelopers" predicate="acb" fixed-items="vm.filterItems.acbItems" has-changes="vm.categoryChanged['acb']" register-allow-all="vm.registerAllowAll(allowAll)" register-clear-filter="vm.registerClearFilter(clearFilter)" register-restore-state="vm.registerRestoreState(restoreState)" name-space="bannedDevelopersTableState" hidden-options="true"></st-list-multiple>
              </div>
              <div class="col-sm-12 text-center" ng-if="vm.isCategoryChanged(['acb'])">
                <a href ng-click="vm.triggerClearFilters()">Clear Filter</a>
              </div>
            </div>
          </div>
        </div>
      </div> <!-- #filters -->
    </div><!-- filter form -->

    <div aria-live="polite">
      <div ng-if="vm.hasResults()" class="row">
        <div class="col-md-12 table-responsive">
          <table class="table table-striped table-responsive">
            <thead>
              <tr>
                <td colspan="3" class="text-center">
                  <div st-pagination="" st-items-by-page="vm.filterItems.pageSize" st-displayed-pages="10"></div>
                </td>
              </tr>
              <tr ng-if="vm.displayedDevelopers && vm.displayedDevelopers.length > 0">
                <th scope="col" class="search-header" st-sort="developer" st-skip-natural="true" st-sort-default="true">Developer</th>
                <th scope="col" class="search-header" st-sort="decertificationDate" st-skip-natural="true">Decertification Date</th>
                <th scope="col" class="search-header" st-sort="acb" st-skip-natural="true">ONC-ACB</th>
              </tr>
            </thead>
            <tfoot ng-if="vm.displayedDevelopers && vm.displayedDevelopers.length > 0">
              <tr>
                <td colspan="3" class="text-center">
                  <div class="text-right" ng-if="vm.displayedDevelopers && vm.displayedDevelopers.length > 0">
                    <label for="pageSizeTop" class="sr-only">Show how many results</label>
                    Showing up to&nbsp;
                    <select ng-model="vm.filterItems.pageSize" id="pageSizeTop"
                            ng-options="v as v for v in [50,100,250]">
                    </select>
                    &nbsp;results per page
                  </div>
                  <div st-pagination="" st-items-by-page="vm.filterItems.pageSize" st-displayed-pages="10"></div>
                </td>
              </tr>
            </tfoot>
            <tbody>
              <tr ng-repeat="dev in vm.displayedDevelopers">
                <td>{{ dev.developer }}</td>
                <td>{{ dev.decertificationDate | date : 'mediumDate' : GMT }}</td>
                <td ng-bind-html="dev.acb.join('<br>')"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>  <!-- end of search results -->
  </div> <!-- #mainContent -->
</div>
