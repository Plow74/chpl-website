<div class="flex-container">
  <div class="flex-item wide">
    <div ng-transclude="header"></div>
  </div>
  <div class="flex-item text-right" ng-if="$ctrl.isSlotFilled('saved')">
    <div ng-transclude="saved"></div>
  </div>
  <div class="flex-item text-right">
    <button class="btn btn-link" ng-click="$ctrl.showAdvanced = !$ctrl.showAdvanced"><span ng-if="$ctrl.showAdvanced">Hide </span>Advanced Search</button>
  </div>
</div>
<span ng-show="$ctrl.showAdvanced">
  <div class="flex-container">
    <div class="flex-item flex-container rotate">
      <div class="flex-item flex-container">
        <div class="flex-item">
          Filter on
        </div>
        <div class="flex-item text-right">
          <button class="btn btn-link" ng-click="$ctrl.clearAllFilters()">Reset all filters</button>
        </div>
      </div>
      <div class="flex-item flex-container rotate wrap" id="filters-titles">
        <div ng-repeat="filter in $ctrl.filters | orderBy : 'title'" class="flex-item" ng-class="{ active:filter.selected }">
          <button class="btn btn-link" ng-click="$ctrl.select(filter)">{{ filter.title }}</button> <span ng-if="filter.hasChanges"><span class="sr-only">Filter has non-default option selected</span>*</span>
        </div>
      </div>
    </div>
    <div class="flex-item wide">
      <div ng-transclude="body"></div>
    </div>
  </div>
</span>
