<section class="row">
  <div class="col-sm-3">
    <div class="panel panel-default">
      <ul class="nav nav-pills nav-stacked">
        <li ng-class="{'active': vm.tab === 'activity'}"><a href="" class="" ng-click="vm.changeTab('activity')">Activity</a></li>
        <li ng-class="{'active': vm.tab === 'visitors'}"><a href="" class="" ng-click="vm.changeTab('visitors')">Visitors</a></li>
      </ul>
    </div>
  </div>
  <div class="col-sm-9">
    <div class="row" ng-if="vm.tab === 'activity'">
      <div class="col-sm-12">
        <h2>Certified Product Activity</h2>
        <table st-table="vm.displayedCertifiedProducts" st-safe-src="vm.searchedCertifiedProducts" class="table table-striped">
          <thead>
            <tr>
              <th class="search-header" st-sort="vendor" st-skip-natural="true">Developer</th>
		      <th class="search-header" st-sort="product" st-skip-natural="true">Product</th>
              <th class="search-header" st-sort="version" st-skip-natural="true">Version</th>
              <th class="search-header" st-sort="certBody" st-skip-natural="true">Certification Body</th>
              <th class="search-header" st-sort="edition" st-skip-natural="true">Edition</th>
              <th class="search-header" st-sort="activity" st-skip-natural="true">Activity</th>
              <th class="search-header" st-sort="activityDate" st-skip-natural="true" st-sort-default="reverse">Date</th>
            </tr>
          </thead>
          <tbody>
	        <tr ng-repeat="activity in vm.displayedCertifiedProducts">
		      <td class="">{{ activity.vendor }}</td>
		      <td class="">{{ activity.product }}</td>
		      <td class="">{{ activity.version }}</td>
		      <td class="">{{ activity.certBody }}</td>
		      <td class="">{{ activity.edition }}</td>
		      <td class="">{{ activity.activity }}</td>
		      <td class="">{{ activity.activityDate | date : 'medium' }}</td>
            </tr>
          </tbody>
        </table>

        <h2>Developer Activity</h2>
        <table st-table="vm.displayedVendors" st-safe-src="vm.searchedVendors" class="table table-striped">
          <thead>
            <tr>
              <th class="search-header" st-sort="name" st-skip-natural="true">Developer</th>
              <th class="">Activity</th>
              <th class="search-header" st-sort="date" st-skip-natural="true" st-sort-default="reverse">Date</th>
            </tr>
          </thead>
          <tbody>
	        <tr ng-repeat="activity in vm.displayedVendors">
		      <td class="">{{ activity.name }}</td>
		      <td class=""><span ng-bind-html="activity.action.join('')"></span></td>
		      <td class="">{{ activity.date | date : 'medium' }}</td>
            </tr>
          </tbody>
        </table>

        <h2>Product Activity</h2>
        <table st-table="vm.displayedProducts" st-safe-src="vm.searchedProducts" class="table table-striped">
          <thead>
            <tr>
              <th class="search-header" st-sort="vendor" st-skip-natural="true">Developer</th>
              <th class="search-header" st-sort="product" st-skip-natural="true">Product</th>
              <th class="search-header" st-sort="activity" st-skip-natural="true">Activity</th>
              <th class="search-header" st-sort="activityDate" st-skip-natural="true" st-sort-default="reverse">Date</th>
            </tr>
          </thead>
          <tbody>
	        <tr ng-repeat="activity in vm.displayedProducts">
		      <td class="">{{ activity.vendor }}</td>
		      <td class="">{{ activity.product }}</td>
		      <td class="">{{ activity.activity }}</td>
		      <td class="">{{ activity.activityDate | date : 'medium' }}</td>
            </tr>
          </tbody>
        </table>

        <h2>ACB activities</h2>
        <table st-table="vm.displayedACBs" st-safe-src="vm.searchedACBs" class="table table-striped">
          <thead>
            <tr>
              <th class="search-header" st-sort="name" st-skip-natural="true">ACB</th>
              <th class="search-header" st-sort="activity" st-skip-natural="true">Activity</th>
              <th class="search-header" st-sort="activityDate" st-skip-natural="true" st-sort-default="reverse">Date</th>
            </tr>
          </thead>
          <tbody>
	        <tr ng-repeat="activity in vm.displayedACBs">
		      <td class="">{{ activity.name }}</td>
		      <td class="">{{ activity.activity }}</td>
		      <td class="">{{ activity.activityDate | date : 'medium' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row" ng-if="vm.tab === 'visitors'">
      <div class="col-sm-12">

        <h2>Visitor analytics</h2>
        <div class="row">
          <div class="col-md-4">
            <div google-chart chart="vm.browserVariety"></div>
          </div>
          <div class="col-md-4">
            <div google-chart chart="vm.country"></div>
          </div>
          <div class="col-md-4">
            <div google-chart chart="vm.cities"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div google-chart chart="vm.map"></div>
          </div>
          <div class="col-md-6">
            <div google-chart chart="vm.cityMap"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div google-chart chart="vm.traffic"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
