<section class="row">
  <div class="col-sm-3 admin-nav">
    <div class="panel panel-default">
      <ul class="nav nav-pills nav-stacked">
        <li ng-class="{'active': vm.activeAcb.id === acb.id}" ng-repeat="acb in vm.acbs | orderBy:'name' track by acb.id"><a href="" class="" ng-click="vm.activateAcb(acb)">{{ acb.name }}</a></li>
        <li ng-class="{'active': vm.workType === 'newAcb'}" ng-if="vm.isChplAdmin"><a href="" class="" ng-click="vm.doWork('newAcb')">New ACB</a></li>
      </ul>
    </div>
  </div>
  <div class="col-sm-9 admin-inner-tab">
    <div class="row admin-label-spaced" ng-if="vm.workType !== 'newAcb'">
      <ul class="list-inline">
        <li>Manage what?</li>
        <li><input type="radio" ng-model="vm.workType" value="acb" id="rdAcb"></input><label for="rdAcb">ACB</label></li>
        <li><input type="radio" ng-model="vm.workType" value="user" id="rdUsr"></input><label for="rdUsr">Users</label></li>
      </ul>
    </div>
    <div class="row">
      <div class="col-sm-12" ng-if="vm.workType === 'acb'">
        <h2>ACB Information</h2>
        <span>Name: {{ vm.activeAcb.name }}</span><br />
        <span>Website: {{ vm.activeAcb.website }}</span><br />
        <h3>Address</h3>
        <span>Line 1: {{ vm.activeAcb.address.line1 }}</span><br />
        <span>Line 2: {{ vm.activeAcb.address.line2 }}</span><br />
        <span>City: {{ vm.activeAcb.address.city }}</span><br />
        <span>State: {{ vm.activeAcb.address.state }}</span><br />
        <span>Zip Code: {{ vm.activeAcb.address.zipcode }}</span><br />
        <span>Country: {{ vm.activeAcb.address.country }}</span><br />
        <button class="btn btn-default btn-block" ng-click="vm.editAcb(vm.activeAcb)">Edit this ACB</button>
      </div>
    </div>
    <div class="row" ng-if="vm.workType === 'user'">
      <div class="col-md-12">
        <ai-user-management
           acb-id="{{ vm.activeAcb.id }}">
        </ai-user-management>
      </div>
    </div>
  </div>

  <div class="row" ng-if="vm.workType === 'newAcb'">
    <form name="acbNewForm" novalidate>
      <div class="col-md-4">
        <h2>ACB Information</h2>
        <label for="acb-new-name" class="control-label">ACB Name <span class="text-danger">*</span></label>
        <input type="text" id="acb-new-name" ng-model="vm.newACB.name" class="form-control" required />
        <label for="acb-new-website" class="control-label">ACB Website</label>
        <input type="text" id="acb-new-website" ng-model="vm.newACB.website" class="form-control" />
      </div>
      <div class="col-md-8">
        <h3>Address</h3>
        <label for="acb-new-line1" class="control-label">Street Address Line 1 <span ng-if="vm.addressRequired(vm.newACB)" class="text-danger">*</span></label>
        <input type="text" id="acb-new-line1" ng-model="vm.newACB.address.line1" class="form-control" ng-required="vm.addressRequired(vm.newACB)" />
        <label for="acb-new-line2" class="control-label">Street Address Line 2</label>
        <input type="text" id="acb-new-line2" ng-model="vm.newACB.address.line2" class="form-control" />
        <label for="acb-new-city" class="control-label">City <span ng-if="vm.addressRequired(vm.newACB)" class="text-danger">*</span></label>
        <input type="text" id="acb-new-city" ng-model="vm.newACB.address.city" class="form-control" ng-required="vm.addressRequired(vm.newACB)" />
        <label for="acb-new-state" class="control-label">State <span ng-if="vm.addressRequired(vm.newACB)" class="text-danger">*</span></label>
        <input type="text" id="acb-new-state" ng-model="vm.newACB.address.state" class="form-control" ng-required="vm.addressRequired(vm.newACB)" />
        <label for="acb-new-zipcode" class="control-label">Zip Code <span ng-if="vm.addressRequired(vm.newACB)" class="text-danger">*</span></label>
        <input type="text" id="acb-new-zipcode" ng-model="vm.newACB.address.zipcode" class="form-control" ng-required="vm.addressRequired(vm.newACB)" />
        <label for="acb-new-country" class="control-label">Country <span ng-if="vm.addressRequired(vm.newACB)" class="text-danger">*</span></label>
        <input type="text" id="acb-new-country" ng-model="vm.newACB.address.country" class="form-control" ng-required="vm.addressRequired(vm.newACB)" />
      </div>
    </form>
    <div class="col-md-4 col-md-offset-4">
      <button class="btn btn-default btn-block" ng-click="vm.createACB()" ng-disabled="acbNewForm.$invalid">Create this ACB</button>
    </div>
  </div>
</section>
